# cloud-services

## Инструкция по запуску

1. Заполните переменные окружения на Windows `YC_CLOUD_ID`, `YC_FOLDER_ID` и `YC_TOKEN` ([oauth токен](https://oauth.yandex.ru/authorize?response_type=token&client_id=1a6990aa636648e9b2ef855fa7bec2fb) Яндекс Облака).
   
2. В корневой директории проекта запустите скрипт, выполнив команду (названия должны быть уникальны):

    ```powershell
    .\start.ps1 -serviceAccountName <имя_сервисного_аккаунта> -databaseName <имя_базы_данных> -bucketName <название_бакета>
    ```

   Замените параметры на свои.

3. В файле `static/script.js` измените константу `getMessageUrl` на URL для вызова бессерверной функции `get-messages`.

4. Для загрузки статики в бакет, запустите скрипт, выполнив команду:

    ```powershell
    .\scripts\bucket.ps1
    ```

5. Настройте веб-хостинг на бакете вручную, используя пример из файла `static/settings.json`. Возможны проблемы при создании бакета через CLI, и страница может загружаться с непонятным названием.

6. Наслаждайтесь деплоем!

После выполнения всех шагов, проверьте [рабочий сайт](https://nekohtur.tech), чтобы убедиться в функционале